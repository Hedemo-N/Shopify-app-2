function Hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var it={exports:{}},Pe={},Oe={},fe={},ot={},Ue={},Ye={},It;function Kr(){if(It)return Ye;It=1,Object.defineProperty(Ye,"__esModule",{value:!0});function e(c,o){if(o==null||typeof c>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(c),o)||o.constructor.name!=="Object"&&o.constructor.name!=="Array")return o;var f={};return Object.keys(o).forEach(function(u){var a=Object.prototype.hasOwnProperty.call(c,u);a&&typeof c[u]=="object"&&!Array.isArray(c[u])?f[u]=e(c[u],o[u]):f[u]=o[u]}),Object.keys(c).forEach(function(u){var a=Object.prototype.hasOwnProperty.call(o,u);a||(f[u]=c[u])}),Object.setPrototypeOf(f,Object.getPrototypeOf(c)),f}return Ye.default=e,Ye}var Ee={},Mt;function Dr(){return Mt||(Mt=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.SEPARATOR=Ee.PREFIX=void 0,Ee.PREFIX="APP",Ee.SEPARATOR="::"),Ee}var Se={},Ct;function ve(){if(Ct)return Se;Ct=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.ComponentType=Se.Group=void 0;var e;(function(o){o.AuthCode="AuthCode",o.Button="Button",o.ButtonGroup="ButtonGroup",o.Cart="Cart",o.Client="Client",o.ContextualSaveBar="ContextualSaveBar",o.Error="Error",o.Features="Features",o.FeedbackModal="FeedbackModal",o.Fullscreen="Fullscreen",o.LeaveConfirmation="LeaveConfirmation",o.Link="Link",o.Loading="Loading",o.Menu="Menu",o.Modal="Modal",o.Navigation="Navigation",o.Performance="Performance",o.Pos="Pos",o.Print="Print",o.ResourcePicker="Resource_Picker",o.unstable_Picker="unstable_Picker",o.Scanner="Scanner",o.SessionToken="SessionToken",o.Share="Share",o.TitleBar="TitleBar",o.Toast="Toast",o.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",o.WebVitals="WebVitals"})(e||(Se.Group=e={}));var c;return(function(o){o.Button="Button",o.ButtonGroup="ButtonGroup"})(c||(Se.ComponentType=c={})),Se}var wt;function he(){return wt||(wt=1,(function(e){var c=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.forEachInEnum=e.getMergedProps=e.findMatchInEnum=e.getEventNameSpace=e.NonSnakeCaseGroup=e.actionWrapper=void 0;var o=c(Kr()),f=Dr(),u=ve();function a(t){return t}e.actionWrapper=a,e.NonSnakeCaseGroup=[u.Group.AuthCode,u.Group.Button,u.Group.ButtonGroup,u.Group.Cart,u.Group.Error,u.Group.Features,u.Group.Fullscreen,u.Group.Link,u.Group.Loading,u.Group.Menu,u.Group.Modal,u.Group.Navigation,u.Group.Pos,u.Group.Print,u.Group.ResourcePicker,u.Group.Scanner,u.Group.SessionToken,u.Group.Share,u.Group.TitleBar,u.Group.Toast,u.Group.unstable_Picker];function d(t){return t.replace(/([A-Z])/g,function(i,v,g){return"".concat(g===0?"":"_").concat(i[0].toLowerCase())})}function h(t){return e.NonSnakeCaseGroup.includes(t)?t.toUpperCase():d(t).toUpperCase()}function y(t,i,v){if(i.startsWith("".concat(f.PREFIX).concat(f.SEPARATOR)))return i;var g=h(t);if(v){var A=v.subgroups,m=v.type;A&&A.length>0&&(g+=g.length>0?f.SEPARATOR:"",A.forEach(function(b,O){g+="".concat(b.toUpperCase()).concat(O<A.length-1?f.SEPARATOR:"")})),m!==t&&m&&(g+="".concat(g.length>0?f.SEPARATOR:"").concat(m.toUpperCase()))}return g&&(g+="".concat(g.length>0?f.SEPARATOR:"").concat(i.toUpperCase())),"".concat(f.PREFIX).concat(f.SEPARATOR).concat(g)}e.getEventNameSpace=y;function _(t,i){var v=Object.keys(t).find(function(g){return i===t[g]});return v?t[v]:void 0}e.findMatchInEnum=_;function p(t,i){var v=(0,o.default)(t,i);if(!v){var g=Object.assign(t,i);return g}return v}e.getMergedProps=p;function l(t,i){Object.keys(t).forEach(function(v){i(t[v])})}e.forEachInEnum=l;function s(t){return t==null||typeof t=="number"}e.isValidOptionalNumber=s;function n(t){return t==null||typeof t=="string"}e.isValidOptionalString=n;function r(t,i){var v=t.id;return v===i.id?(Object.assign(t,p(t,i)),!0):!1}e.updateActionFromPayload=r})(Ue)),Ue}const Xr="@shopify/app-bridge",Yr="3.7.11",Zr={name:Xr,version:Yr};var Rt;function He(){return Rt||(Rt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPackageName=e.getVersion=e.getMergedProps=e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.NonSnakeCaseGroup=e.getEventNameSpace=e.forEachInEnum=e.findMatchInEnum=e.actionWrapper=void 0;var c=he();Object.defineProperty(e,"actionWrapper",{enumerable:!0,get:function(){return c.actionWrapper}}),Object.defineProperty(e,"findMatchInEnum",{enumerable:!0,get:function(){return c.findMatchInEnum}}),Object.defineProperty(e,"forEachInEnum",{enumerable:!0,get:function(){return c.forEachInEnum}}),Object.defineProperty(e,"getEventNameSpace",{enumerable:!0,get:function(){return c.getEventNameSpace}}),Object.defineProperty(e,"NonSnakeCaseGroup",{enumerable:!0,get:function(){return c.NonSnakeCaseGroup}}),Object.defineProperty(e,"isValidOptionalNumber",{enumerable:!0,get:function(){return c.isValidOptionalNumber}}),Object.defineProperty(e,"isValidOptionalString",{enumerable:!0,get:function(){return c.isValidOptionalString}}),Object.defineProperty(e,"updateActionFromPayload",{enumerable:!0,get:function(){return c.updateActionFromPayload}}),Object.defineProperty(e,"getMergedProps",{enumerable:!0,get:function(){return c.getMergedProps}});var o=Zr;function f(){return o.version}e.getVersion=f;function u(){return o.name}e.getPackageName=u})(ot)),ot}var at={},Te={},Nt;function Jr(){if(Nt)return Te;Nt=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.app=Te.Action=void 0;var e=he(),c=ve(),o;(function(u){u.APP="APP::PRINT::APP"})(o||(Te.Action=o={}));function f(){return(0,e.actionWrapper)({group:c.Group.Print,type:o.APP})}return Te.app=f,Te}var jt;function Qr(){return jt||(jt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var c=Jr();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}}),Object.defineProperty(e,"app",{enumerable:!0,get:function(){return c.app}})})(at)),at}var ut={},W={},Dt;function Je(){if(Dt)return W;Dt=1;var e=W&&W.__extends||(function(){var s=function(n,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(t[v]=i[v])},s(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}})();Object.defineProperty(W,"__esModule",{value:!0}),W.permissionAction=W.isErrorEventName=W.throwError=W.invalidOriginAction=W.fromAction=W.AppBridgeError=W.AppActionType=W.Action=void 0;var c=ve(),o=he(),f;(function(s){s.INVALID_ACTION="APP::ERROR::INVALID_ACTION",s.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",s.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",s.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",s.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",s.PERSISTENCE="APP::ERROR::PERSISTENCE",s.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",s.NETWORK="APP::ERROR::NETWORK",s.PERMISSION="APP::ERROR::PERMISSION",s.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",s.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(f||(W.Action=f={}));var u;(function(s){s.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",s.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",s.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",s.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",s.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",s.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",s.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",s.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",s.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"})(u||(W.AppActionType=u={}));var a=(function(s){e(n,s);function n(r){var t=s.call(this,r)||this;return t.name="AppBridgeError",t.message=r,Object.setPrototypeOf(t,n.prototype),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(t,t.constructor):t.stack=new Error(t.message).stack,t}return n})(Error);W.AppBridgeError=a;function d(s,n,r){var t=s?"".concat(n,": ").concat(s):n,i=new a(t);return i.action=r,i.type=n,i}W.fromAction=d;function h(s){return(0,o.actionWrapper)({group:c.Group.Error,payload:{message:s,type:f.INVALID_ORIGIN},type:f.INVALID_ORIGIN})}W.invalidOriginAction=h;function y(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var r=s[0],t,i;throw typeof s[1]=="string"?t=s[1]:(i=s[1],t=s[2]||""),d(t,r,i)}W.throwError=y;function _(s){var n=(0,o.findMatchInEnum)(f,s);return typeof n=="string"}W.isErrorEventName=_;function p(s,n,r){var t=n.payload;return(0,o.actionWrapper)({type:s,group:c.Group.Error,payload:{action:n,message:r,type:s,id:t&&t.id?t.id:void 0}})}function l(s,n){return p(f.PERMISSION,s,n||"Action is not permitted")}return W.permissionAction=l,W}var ct={},Lt;function Qe(){return Lt||(Lt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0;var c=ve();Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return c.Group}}),Object.defineProperty(e,"ComponentType",{enumerable:!0,get:function(){return c.ComponentType}})})(ct)),ct}var Bt;function xe(){return Bt||(Bt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.networkAction=e.persistenceAction=e.unsupportedOperationAction=e.unexpectedAction=e.invalidAction=e.invalidActionType=e.invalidPayload=e.Message=e.fromAction=e.Action=e.permissionAction=e.isErrorEventName=e.throwError=e.invalidOriginAction=e.AppBridgeError=e.AppActionType=void 0;var c=Je();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}}),Object.defineProperty(e,"fromAction",{enumerable:!0,get:function(){return c.fromAction}});var o=He(),f=Qe(),u=Je();Object.defineProperty(e,"AppActionType",{enumerable:!0,get:function(){return u.AppActionType}}),Object.defineProperty(e,"AppBridgeError",{enumerable:!0,get:function(){return u.AppBridgeError}}),Object.defineProperty(e,"invalidOriginAction",{enumerable:!0,get:function(){return u.invalidOriginAction}}),Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return u.throwError}}),Object.defineProperty(e,"isErrorEventName",{enumerable:!0,get:function(){return u.isErrorEventName}}),Object.defineProperty(e,"permissionAction",{enumerable:!0,get:function(){return u.permissionAction}});function a(r,t,i){var v=t.payload;return(0,o.actionWrapper)({type:r,group:f.Group.Error,payload:{action:t,message:i,type:r,id:v&&v.id?v.id:void 0}})}var d;(function(r){r.MISSING_PAYLOAD="Missing payload",r.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(d||(e.Message=d={}));function h(r,t){return a(c.Action.INVALID_PAYLOAD,r,t||"The action's payload is missing required properties or has invalid properties")}e.invalidPayload=h;function y(r,t){return(0,o.actionWrapper)({group:f.Group.Error,payload:{action:r,message:t||"The action type is invalid or unsupported",type:c.Action.INVALID_ACTION_TYPE},type:c.Action.INVALID_ACTION_TYPE})}e.invalidActionType=y;function _(r,t){return(0,o.actionWrapper)({group:f.Group.Error,payload:{action:r,message:t||"The action's has missing/invalid values for `group`, `type` or `version`",type:c.Action.INVALID_ACTION},type:c.Action.INVALID_ACTION})}e.invalidAction=_;function p(r,t){return(0,o.actionWrapper)({group:f.Group.Error,payload:{action:r,message:t||"Action cannot be called at this time",type:c.Action.UNEXPECTED_ACTION},type:c.Action.UNEXPECTED_ACTION})}e.unexpectedAction=p;function l(r,t){return a(c.Action.UNSUPPORTED_OPERATION,r,t||"The action type is unsupported")}e.unsupportedOperationAction=l;function s(r,t){return a(c.Action.PERSISTENCE,r,t||"Action cannot be persisted on server")}e.persistenceAction=s;function n(r,t){return a(c.Action.NETWORK,r,t||"Network error")}e.networkAction=n})(ut)),ut}var Ie={},ie={},$={},de={},Ft;function ze(){if(Ft)return de;Ft=1,Object.defineProperty(de,"__esModule",{value:!0}),de.LifecycleHook=de.PermissionType=de.MessageType=void 0;var e;(function(f){f.GetState="getState",f.Dispatch="dispatch",f.Subscribe="subscribe",f.Unsubscribe="unsubscribe"})(e||(de.MessageType=e={}));var c;(function(f){f.Dispatch="Dispatch",f.Subscribe="Subscribe"})(c||(de.PermissionType=c={}));var o;return(function(f){f.UpdateAction="UpdateAction",f.DispatchAction="DispatchAction"})(o||(de.LifecycleHook=o={})),de}var Ut;function xr(){if(Ut)return $;Ut=1,Object.defineProperty($,"__esModule",{value:!0}),$.isPermitted=$.getPermissionKey=$.isPerformanceOrWebVitalsAction=$.isAppMessage=$.isAppBridgeAction=void 0;var e=ze(),c=Dr(),o=he();function f(y){return y instanceof Object&&Object.prototype.hasOwnProperty.call(y,"type")&&y.type.toString().startsWith(c.PREFIX)}$.isAppBridgeAction=f;function u(y){if(typeof y!="object"||!y.data||typeof y.data!="object")return!1;var _=y.data;return Object.prototype.hasOwnProperty.call(_,"type")&&(0,o.findMatchInEnum)(e.MessageType,_.type)!==void 0}$.isAppMessage=u;function a(y){var _=y.type;return _.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}$.isPerformanceOrWebVitalsAction=a;function d(y){return y.replace(new RegExp("^".concat(c.PREFIX).concat(c.SEPARATOR,"\\w+").concat(c.SEPARATOR)),"")}$.getPermissionKey=d;function h(y,_,p){var l=_.group,s=_.type;if(!l||!Object.prototype.hasOwnProperty.call(y,l))return!1;var n=y[l];if(!n)return!1;var r=d(s);return n[r]?n[r][p]===!0:!1}return $.isPermitted=h,$}var Me={},qt;function At(){if(qt)return Me;qt=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.removeFromCollection=Me.addAndRemoveFromCollection=void 0;function e(o,f,u){return o.push(f),function(){return c(o,f,u)}}Me.addAndRemoveFromCollection=e;function c(o,f,u){var a=o.findIndex(function(d){return d===f});return a>=0?(o.splice(a,1),u&&u(f),!0):!1}return Me.removeFromCollection=c,Me}var st={},Wt;function mt(){return Wt||(Wt=1,(function(e){var c,o;Object.defineProperty(e,"__esModule",{value:!0}),e.isUnframed=e.isClient=e.isServer=void 0,e.isServer=typeof window>"u",e.isClient=!e.isServer,e.isUnframed=e.isClient&&((o=(c=window.navigator)===null||c===void 0?void 0:c.userAgent)===null||o===void 0?void 0:o.indexOf("Unframed"))>0})(st)),st}var Vt;function $r(){if(Vt)return ie;Vt=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.createTransportListener=ie.fromWindow=ie.fromFrame=ie.Context=void 0;var e=Je(),c=xr(),o=ze(),f=At(),u=mt(),a;(function(p){p.Modal="Modal",p.Main="Main"})(a||(ie.Context=a={}));function d(p,l,s){var n=[],r=p.host,t=p.window;if(!r)throw(0,e.fromAction)("App frame is undefined",e.AppActionType.WINDOW_UNDEFINED);return u.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(i,v){t?.postMessage(i,v),_(i)&&r.postMessage(JSON.stringify(i.payload),location.origin)},updateIframeUrl:function(i){var v=window.location,g=(p.window||{}).location;try{var A=new URL(i).origin;A===l&&g?g.replace(i):v.href=i}catch{}}}),r.addEventListener("message",function(i){if(!(i.source===r||!(0,c.isAppMessage)(i))){if(i.origin!==l){var v="Message origin '".concat(i.origin,"' does not match app origin '").concat(l,"'."),g=(0,e.invalidOriginAction)(v),A={type:"dispatch",payload:g};t?.postMessage(A,i.origin);return}if(u.isUnframed&&window.MobileWebView){var g=JSON.stringify({id:"unframed://fromClient",origin:l,data:i.data});window.MobileWebView.postMessage(g);return}for(var m=0,b=n;m<b.length;m++){var O=b[m];O(i)}}}),{context:s,localOrigin:l,frameWindow:t,hostFrame:r,dispatch:function(i){t?.postMessage(i,l)},subscribe:function(i){return(0,f.addAndRemoveFromCollection)(n,i)}}}ie.fromFrame=d;function h(p,l){var s=[];return typeof window!==void 0&&window.addEventListener("message",function(n){if(!(window===p&&!u.isUnframed||n.source!==p||!((0,c.isAppBridgeAction)(n.data.payload)||(0,c.isAppMessage)(n))))for(var r=0,t=s;r<t.length;r++){var i=t[r];i(n)}}),{localOrigin:l,hostFrame:p,dispatch:function(n){var r;if(!((r=n.source)===null||r===void 0)&&r.host){if(u.isUnframed&&window&&window.MobileWebView){var t=JSON.stringify({id:"unframed://fromClient",origin:l,data:n});window.MobileWebView.postMessage(t);return}var i=new URL("https://".concat(n.source.host)).origin;p.postMessage(n,i)}},subscribe:function(n){return(0,f.addAndRemoveFromCollection)(s,n)}}}ie.fromWindow=h;function y(){var p=[],l={};function s(n){function r(){if(arguments.length<2)return(0,f.addAndRemoveFromCollection)(p,{callback:arguments[0]});var t=Array.from(arguments),i=t[0],v=t[1],g=t[2],A={callback:v,id:g},m={type:i,id:g};return Object.prototype.hasOwnProperty.call(l,i)||(l[i]=[]),n&&n(o.MessageType.Subscribe,m),(0,f.addAndRemoveFromCollection)(l[i],A,function(){n&&n(o.MessageType.Unsubscribe,m)})}return r}return{createSubscribeHandler:s,handleMessage:function(n){p.forEach(function(r){return r.callback(n)})},handleActionDispatch:function(n){var r=n.type,t=n.payload,i=!1;if(Object.prototype.hasOwnProperty.call(l,r))for(var v=0,g=l[r];v<g.length;v++){var A=g[v],m=A.id,b=A.callback,O=t&&t.id===m;(O||!m)&&(b(t),i=!0)}return i}}}ie.createTransportListener=y;function _(p){return p!==null&&typeof p=="object"&&!Array.isArray(p)&&p.type==="dispatch"&&typeof p.payload=="object"}return ie}var kt;function Pt(){return kt||(kt=1,(function(e){var c=Ie&&Ie.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a);var h=Object.getOwnPropertyDescriptor(u,a);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(f,d,h)}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=Ie&&Ie.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o($r(),e)})(Ie)),Ie}var Ce={},Gt;function en(){if(Gt)return Ce;Gt=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.mockAppBridge=Ce.serverAppBridge=void 0;var e=xe(),c=function(){},o=new Promise(function(){});return Ce.serverAppBridge={dispatch:function(){return{}},error:function(){return c},featuresAvailable:function(){return Promise.reject((0,e.fromAction)("Feature detection is only available on the client side.",e.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject((0,e.fromAction)("State is only available on the client side.",e.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return c}},Ce.mockAppBridge={dispatch:function(){return{}},error:function(){return c},featuresAvailable:function(){return o},getState:function(){return o},localOrigin:"",hostOrigin:"",subscribe:function(){return c}},Ce}var ft={},zt;function $e(){return zt||(zt=1,(function(e){var c={};Object.defineProperty(e,"__esModule",{value:!0}),e.isDevelopmentClient=e.isProduction=e.isDevelopment=e.isUnframed=e.isServer=e.isClient=void 0;var o=mt(),f=mt();Object.defineProperty(e,"isClient",{enumerable:!0,get:function(){return f.isClient}}),Object.defineProperty(e,"isServer",{enumerable:!0,get:function(){return f.isServer}}),Object.defineProperty(e,"isUnframed",{enumerable:!0,get:function(){return f.isUnframed}}),e.isDevelopment=typeof process<"u"&&c&&!1,e.isProduction=!e.isDevelopment,e.isDevelopmentClient=e.isDevelopment&&o.isClient})(ft)),ft}var dt={},qe={},Ht;function tn(){if(Ht)return qe;Ht=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.Action=void 0;var e;return(function(c){c.INITIALIZE="APP::CLIENT::INITIALIZE"})(e||(qe.Action=e={})),qe}var Kt;function rn(){return Kt||(Kt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=e.Action=void 0;var c=tn();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}});var o=Qe(),f=He();function u(){return(0,f.actionWrapper)({group:o.Group.Client,type:c.Action.INITIALIZE})}e.initialize=u})(dt)),dt}var we={},lt={},Ge={exports:{}},nn=Ge.exports,Xt;function on(){return Xt||(Xt=1,(function(e,c){(function(o,f){f(c)})(nn,(function(o){var f,u,a,d,h,y=-1,_=function(S){addEventListener("pageshow",(function(E){E.persisted&&(y=E.timeStamp,S(E))}),!0)},p=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},l=function(){var S=p();return S&&S.activationStart||0},s=function(S,E){var C=p(),j="navigate";return y>=0?j="back-forward-cache":C&&(document.prerendering||l()>0?j="prerender":document.wasDiscarded?j="restore":C.type&&(j=C.type.replace(/_/g,"-"))),{name:S,value:E===void 0?-1:E,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:j}},n=function(S,E,C){try{if(PerformanceObserver.supportedEntryTypes.includes(S)){var j=new PerformanceObserver((function(M){Promise.resolve().then((function(){E(M.getEntries())}))}));return j.observe(Object.assign({type:S,buffered:!0},C||{})),j}}catch{}},r=function(S,E,C,j){var M,L;return function(U){E.value>=0&&(U||j)&&((L=E.value-(M||0))||M===void 0)&&(M=E.value,E.delta=L,E.rating=(function(V,F){return V>F[1]?"poor":V>F[0]?"needs-improvement":"good"})(E.value,C),S(E))}},t=function(S){requestAnimationFrame((function(){return requestAnimationFrame((function(){return S()}))}))},i=function(S){var E=function(C){C.type!=="pagehide"&&document.visibilityState!=="hidden"||S(C)};addEventListener("visibilitychange",E,!0),addEventListener("pagehide",E,!0)},v=function(S){var E=!1;return function(C){E||(S(C),E=!0)}},g=-1,A=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},m=function(S){document.visibilityState==="hidden"&&g>-1&&(g=S.type==="visibilitychange"?S.timeStamp:0,O())},b=function(){addEventListener("visibilitychange",m,!0),addEventListener("prerenderingchange",m,!0)},O=function(){removeEventListener("visibilitychange",m,!0),removeEventListener("prerenderingchange",m,!0)},I=function(){return g<0&&(g=A(),b(),_((function(){setTimeout((function(){g=A(),b()}),0)}))),{get firstHiddenTime(){return g}}},w=function(S){document.prerendering?addEventListener("prerenderingchange",(function(){return S()}),!0):S()},P=[1800,3e3],T=function(S,E){E=E||{},w((function(){var C,j=I(),M=s("FCP"),L=n("paint",(function(U){U.forEach((function(V){V.name==="first-contentful-paint"&&(L.disconnect(),V.startTime<j.firstHiddenTime&&(M.value=Math.max(V.startTime-l(),0),M.entries.push(V),C(!0)))}))}));L&&(C=r(S,M,P,E.reportAllChanges),_((function(U){M=s("FCP"),C=r(S,M,P,E.reportAllChanges),t((function(){M.value=performance.now()-U.timeStamp,C(!0)}))})))}))},N=[.1,.25],R=function(S,E){E=E||{},T(v((function(){var C,j=s("CLS",0),M=0,L=[],U=function(F){F.forEach((function(K){if(!K.hadRecentInput){var be=L[0],nt=L[L.length-1];M&&K.startTime-nt.startTime<1e3&&K.startTime-be.startTime<5e3?(M+=K.value,L.push(K)):(M=K.value,L=[K])}})),M>j.value&&(j.value=M,j.entries=L,C())},V=n("layout-shift",U);V&&(C=r(S,j,N,E.reportAllChanges),i((function(){U(V.takeRecords()),C(!0)})),_((function(){M=0,j=s("CLS",0),C=r(S,j,N,E.reportAllChanges),t((function(){return C()}))})),setTimeout(C,0))})))},B={passive:!0,capture:!0},q=new Date,z=function(S,E){f||(f=E,u=S,a=new Date,_e(removeEventListener),ce())},ce=function(){if(u>=0&&u<a-q){var S={entryType:"first-input",name:f.type,target:f.target,cancelable:f.cancelable,startTime:f.timeStamp,processingStart:f.timeStamp+u};d.forEach((function(E){E(S)})),d=[]}},re=function(S){if(S.cancelable){var E=(S.timeStamp>1e12?new Date:performance.now())-S.timeStamp;S.type=="pointerdown"?(function(C,j){var M=function(){z(C,j),U()},L=function(){U()},U=function(){removeEventListener("pointerup",M,B),removeEventListener("pointercancel",L,B)};addEventListener("pointerup",M,B),addEventListener("pointercancel",L,B)})(E,S):z(E,S)}},_e=function(S){["mousedown","keydown","touchstart","pointerdown"].forEach((function(E){return S(E,re,B)}))},ye=[100,300],me=function(S,E){E=E||{},w((function(){var C,j=I(),M=s("FID"),L=function(F){F.startTime<j.firstHiddenTime&&(M.value=F.processingStart-F.startTime,M.entries.push(F),C(!0))},U=function(F){F.forEach(L)},V=n("first-input",U);C=r(S,M,ye,E.reportAllChanges),V&&i(v((function(){U(V.takeRecords()),V.disconnect()}))),V&&_((function(){var F;M=s("FID"),C=r(S,M,ye,E.reportAllChanges),d=[],u=-1,f=null,_e(addEventListener),F=L,d.push(F),ce()}))}))},Ae=0,ne=1/0,ge=0,Ke=function(S){S.forEach((function(E){E.interactionId&&(ne=Math.min(ne,E.interactionId),ge=Math.max(ge,E.interactionId),Ae=ge?(ge-ne)/7+1:0)}))},Xe=function(){return h?Ae:performance.interactionCount||0},G=function(){"interactionCount"in performance||h||(h=n("event",Ke,{type:"event",buffered:!0,durationThreshold:0}))},Q=[200,500],Z=0,x=function(){return Xe()-Z},H=[],se={},Be=function(S){var E=H[H.length-1],C=se[S.interactionId];if(C||H.length<10||S.duration>E.latency){if(C)C.entries.push(S),C.latency=Math.max(C.latency,S.duration);else{var j={id:S.interactionId,latency:S.duration,entries:[S]};se[j.id]=j,H.push(j)}H.sort((function(M,L){return L.latency-M.latency})),H.splice(10).forEach((function(M){delete se[M.id]}))}},Ot=function(S,E){E=E||{},w((function(){var C;G();var j,M=s("INP"),L=function(V){V.forEach((function(be){be.interactionId&&Be(be),be.entryType==="first-input"&&!H.some((function(nt){return nt.entries.some((function(Tt){return be.duration===Tt.duration&&be.startTime===Tt.startTime}))}))&&Be(be)}));var F,K=(F=Math.min(H.length-1,Math.floor(x()/50)),H[F]);K&&K.latency!==M.value&&(M.value=K.latency,M.entries=K.entries,j())},U=n("event",L,{durationThreshold:(C=E.durationThreshold)!==null&&C!==void 0?C:40});j=r(S,M,Q,E.reportAllChanges),U&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&U.observe({type:"first-input",buffered:!0}),i((function(){L(U.takeRecords()),M.value<0&&x()>0&&(M.value=0,M.entries=[]),j(!0)})),_((function(){H=[],Z=Xe(),M=s("INP"),j=r(S,M,Q,E.reportAllChanges)})))}))},et=[2500,4e3],tt={},Et=function(S,E){E=E||{},w((function(){var C,j=I(),M=s("LCP"),L=function(F){var K=F[F.length-1];K&&K.startTime<j.firstHiddenTime&&(M.value=Math.max(K.startTime-l(),0),M.entries=[K],C())},U=n("largest-contentful-paint",L);if(U){C=r(S,M,et,E.reportAllChanges);var V=v((function(){tt[M.id]||(L(U.takeRecords()),U.disconnect(),tt[M.id]=!0,C(!0))}));["keydown","click"].forEach((function(F){addEventListener(F,(function(){return setTimeout(V,0)}),!0)})),i(V),_((function(F){M=s("LCP"),C=r(S,M,et,E.reportAllChanges),t((function(){M.value=performance.now()-F.timeStamp,tt[M.id]=!0,C(!0)}))}))}}))},rt=[800,1800],zr=function S(E){document.prerendering?w((function(){return S(E)})):document.readyState!=="complete"?addEventListener("load",(function(){return S(E)}),!0):setTimeout(E,0)},St=function(S,E){E=E||{};var C=s("TTFB"),j=r(S,C,rt,E.reportAllChanges);zr((function(){var M=p();if(M){var L=M.responseStart;if(L<=0||L>performance.now())return;C.value=Math.max(L-l(),0),C.entries=[M],j(!0),_((function(){C=s("TTFB",0),(j=r(S,C,rt,E.reportAllChanges))(!0)}))}}))};o.CLSThresholds=N,o.FCPThresholds=P,o.FIDThresholds=ye,o.INPThresholds=Q,o.LCPThresholds=et,o.TTFBThresholds=rt,o.getCLS=R,o.getFCP=T,o.getFID=me,o.getINP=Ot,o.getLCP=Et,o.getTTFB=St,o.onCLS=R,o.onFCP=T,o.onFID=me,o.onINP=Ot,o.onLCP=Et,o.onTTFB=St}))})(Ge,Ge.exports)),Ge.exports}var We={},Yt;function an(){if(Yt)return We;Yt=1,Object.defineProperty(We,"__esModule",{value:!0}),We.Action=void 0;var e;return(function(c){c.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",c.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",c.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",c.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",c.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",c.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"})(e||(We.Action=e={})),We}var ee={},Zt;function un(){if(Zt)return ee;Zt=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.isShopifyPing=ee.isShopifyPOS=ee.isShopifyMobile=ee.isShopifyEmbedded=ee.isMobile=void 0;var e=$e();function c(){return f()||u()||a()}ee.isMobile=c;function o(){return e.isClient&&window.top!==window.self||e.isUnframed}ee.isShopifyEmbedded=o;function f(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}ee.isShopifyMobile=f;function u(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}ee.isShopifyPOS=u;function a(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}return ee.isShopifyPing=a,ee}var Jt;function cn(){return Jt||(Jt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeWebVitals=e.interactionToNextPaint=e.timeToFirstByte=e.firstContentfulPaint=e.cumulativeLayoutShift=e.firstInputDelay=e.largestContentfulPaint=e.Action=void 0;var c=on(),o=an();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return o.Action}});var f=$e(),u=Qe(),a=He(),d=un();function h(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.LARGEST_CONTENTFUL_PAINT,payload:r})}e.largestContentfulPaint=h;function y(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.FIRST_INPUT_DELAY,payload:r})}e.firstInputDelay=y;function _(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.CUMULATIVE_LAYOUT_SHIFT,payload:r})}e.cumulativeLayoutShift=_;function p(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.FIRST_CONTENTFUL_PAINT,payload:r})}e.firstContentfulPaint=p;function l(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.TIME_TO_FIRST_BYTE,payload:r})}e.timeToFirstByte=l;function s(r){return(0,a.actionWrapper)({group:u.Group.WebVitals,type:o.Action.INTERACTION_TO_NEXT_PAINT,payload:r})}e.interactionToNextPaint=s;function n(r){function t(v){return function(g){var A=g.id,m=g.name,b=g.value,O={id:A,metricName:m,value:b},I=v(O);r.dispatch(I)}}var i=window;f.isServer||f.isClient&&i.__is_web_vitals_initialized__||(0,d.isMobile)()||(i.__is_web_vitals_initialized__=!0,(0,c.onLCP)(t(h)),(0,c.onFID)(t(y)),(0,c.onCLS)(t(_)),(0,c.onFCP)(t(p)),(0,c.onTTFB)(t(l)),(0,c.onINP)(t(s)))}e.initializeWebVitals=n})(lt)),lt}var Qt;function sn(){return Qt||(Qt=1,(function(e){var c=we&&we.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a);var h=Object.getOwnPropertyDescriptor(u,a);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[a]}}),Object.defineProperty(f,d,h)}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=we&&we.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o(cn(),e)})(we)),we}var Ve={},oe={},xt;function Lr(){if(xt)return oe;xt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.getWindow=oe.getLocation=oe.redirect=oe.shouldRedirect=void 0;function e(a){return a===window}oe.shouldRedirect=e;function c(a){var d=o();d&&d.assign(a)}oe.redirect=c;function o(){return u()?window.location:void 0}oe.getLocation=o;function f(){return u()?window:void 0}oe.getWindow=f;function u(){return typeof window<"u"}return oe}var $t;function fn(){if($t)return Ve;$t=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.handleAppPrint=void 0;var e=Lr();function c(){return navigator.userAgent.indexOf("iOS")>=0}function o(){var d=(0,e.getWindow)();if(!(!d||!d.document||!d.document.body)){var h=d.document.createElement("input");return h.style.display="none",d.document.body.appendChild(h),h}}function f(){var d;(d=(0,e.getWindow)())===null||d===void 0||d.print()}function u(){var d=o();d&&(d.select(),f(),d.remove())}function a(){c()?u():f()}return Ve.handleAppPrint=a,Ve}var pt={},er;function Br(){return er||(er=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isV1Config=e.MessageType=e.LifecycleHook=e.PermissionType=void 0;var c=ze();Object.defineProperty(e,"MessageType",{enumerable:!0,get:function(){return c.MessageType}});var o=ze();Object.defineProperty(e,"PermissionType",{enumerable:!0,get:function(){return o.PermissionType}}),Object.defineProperty(e,"LifecycleHook",{enumerable:!0,get:function(){return o.LifecycleHook}});function f(u){return!u.host}e.isV1Config=f})(pt)),pt}var Ze={},vt={},tr;function dn(){return tr||(tr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromCollection=e.addAndRemoveFromCollection=void 0;var c=At();Object.defineProperty(e,"addAndRemoveFromCollection",{enumerable:!0,get:function(){return c.addAndRemoveFromCollection}}),Object.defineProperty(e,"removeFromCollection",{enumerable:!0,get:function(){return c.removeFromCollection}})})(vt)),vt}var rr;function ln(){if(rr)return Ze;rr=1,Object.defineProperty(Ze,"__esModule",{value:!0});var e=dn(),c=(function(){function o(){this.map={}}return o.prototype.set=function(f,u){Object.prototype.hasOwnProperty.call(this.map,f)||(this.map[f]=[]);var a={handler:u,remove:function(){}},d=(0,e.addAndRemoveFromCollection)(this.map[f],a);return a={handler:u,remove:d},d},o.prototype.get=function(f){var u=this.map[f];return u?u.map(function(a){return a.handler}):void 0},o.prototype.run=function(f,u,a){for(var d=[],h=3;h<arguments.length;h++)d[h-3]=arguments[h];var y=0,_=this.get(f)||[];function p(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];var n=_[y++];return n?n(p).apply(a,l):u.apply(a,l)}return p.apply(a,d)},o})();return Ze.default=c,Ze}var nr;function ir(){return nr||(nr=1,(function(e){var c=fe&&fe.__assign||function(){return c=Object.assign||function(P){for(var T,N=1,R=arguments.length;N<R;N++){T=arguments[N];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(P[B]=T[B])}return P},c.apply(this,arguments)},o=fe&&fe.__spreadArray||function(P,T,N){if(N||arguments.length===2)for(var R=0,B=T.length,q;R<B;R++)(q||!(R in T))&&(q||(q=Array.prototype.slice.call(T,0,R)),q[R]=T[R]);return P.concat(q||Array.prototype.slice.call(T))},f=fe&&fe.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=e.createAppWrapper=e.createClientApp=e.WINDOW_UNDEFINED_MESSAGE=void 0;var u=He(),a=Qr(),d=xe(),h=Pt(),y=en(),_=$e(),p=rn(),l=sn(),s=fn(),n=Lr(),r=Br(),t=f(ln());e.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function i(P,T){var N=T.apiKey,R=T.host,B=T.forceRedirect,q=B===void 0?!_.isDevelopmentClient:B,z=(0,n.getLocation)();if(_.isUnframed||!z||!N||!R||!q||!(0,n.shouldRedirect)(P))return!1;var ce="https://".concat(R,"/apps/").concat(N).concat(z.pathname).concat(z.search||"");return(0,n.redirect)(ce),!0}var v=function(P){return function(T){return P(c(c({},T),{version:(0,u.getVersion)(),clientInterface:{name:(0,u.getPackageName)(),version:(0,u.getVersion)()}}))}},g=function(P){P.set(r.LifecycleHook.DispatchAction,v)};function A(P){P.subscribe(a.Action.APP,s.handleAppPrint),P.dispatch((0,p.initialize)());try{(0,l.initializeWebVitals)(P)}catch(T){console.error("App-Bridge failed to initialize web-vitals",T)}}var m=function(P,T){T===void 0&&(T=[]);var N=[],R=(0,h.createTransportListener)(),B=function(q){var z=q.data,ce=z.type,re=z.payload;switch(ce){case"getState":{var _e=N.splice(0);_e.forEach(function(Ae){return Ae(re)});break}case"dispatch":{R.handleMessage(re);var ye=R.handleActionDispatch(re);if(ye)return;var me=(0,u.findMatchInEnum)(d.Action,re.type);me&&(0,d.throwError)(me,re);break}}};return P.subscribe(B),function(q){var z=b(q),ce=i(P.hostFrame,z);if(ce)return y.mockAppBridge;var re=w(P,z),_e=R.createSubscribeHandler(re);re(r.MessageType.Unsubscribe);function ye(G){return re(r.MessageType.Dispatch,G),G}for(var me=new URL("https://".concat(z.host)).origin,Ae=new t.default,ne={hostOrigin:me,localOrigin:P.localOrigin,hooks:Ae,dispatch:function(G){return ne.hooks?ne.hooks.run(r.LifecycleHook.DispatchAction,ye,ne,G):ye(G)},featuresAvailable:function(){for(var G=[],Q=0;Q<arguments.length;Q++)G[Q]=arguments[Q];var Z=G[0],x=Array.isArray(Z)?o([],Z,!0):G;return ne.getState("features").then(function(H){return x.length?x.reduce(function(se,Be){return Object.keys(H).includes(Be)&&(se[Be]=H[Be]),se},{}):H})},getState:function(G){return G&&typeof G!="string"?Promise.resolve(void 0):new Promise(function(Q){N.push(Q),re(r.MessageType.GetState)}).then(function(Q){var Z=Q;if(G)for(var x=0,H=G.split(".");x<H.length;x++){var se=H[x];if(Z==null||typeof Z!="object"||Array.isArray(Z)||!Object.keys(Z).includes(se))return;Z=Z[se]}return Z})},subscribe:_e,error:function(G,Q){var Z=[];return(0,u.forEachInEnum)(d.Action,function(x){Z.push(_e(x,G,Q))}),function(){Z.forEach(function(x){return x()})}}},ge=0,Ke=T;ge<Ke.length;ge++){var Xe=Ke[ge];Xe(Ae,ne)}return A(ne),ne}};e.createClientApp=m;function b(P){var T;if(!P.host)throw(0,d.fromAction)("host must be provided",d.AppActionType.INVALID_CONFIG);if(!P.apiKey)throw(0,d.fromAction)("apiKey must be provided",d.AppActionType.INVALID_CONFIG);try{var N=atob((T=P.host)===null||T===void 0?void 0:T.replace(/_/g,"/").replace(/-/g,"+"));return c(c({},P),{host:N})}catch{var R="not a valid host, please use the value provided by Shopify";throw(0,d.fromAction)(R,d.AppActionType.INVALID_CONFIG)}}function O(P,T,N){if(N===void 0&&(N=[]),!P)throw(0,d.fromAction)(e.WINDOW_UNDEFINED_MESSAGE,d.AppActionType.WINDOW_UNDEFINED);var R=(0,n.getLocation)(),B=T||R&&R.origin;if(!B)throw(0,d.fromAction)("local origin cannot be blank",d.AppActionType.MISSING_LOCAL_ORIGIN);var q=(0,h.fromWindow)(P,B),z=(0,e.createClientApp)(q,o([g],N,!0));return z}e.createAppWrapper=O;function I(P){var T=(0,n.getWindow)();return!T||!T.top?y.serverAppBridge:O(T.top)(P)}e.createApp=I;function w(P,T){return function(N,R){P.dispatch({payload:R,source:T,type:N})}}e.default=I})(fe)),fe}var or;function ar(){return or||(or=1,(function(e){var c=Oe&&Oe.__createBinding||(Object.create?(function(u,a,d,h){h===void 0&&(h=d);var y=Object.getOwnPropertyDescriptor(a,d);(!y||("get"in y?!a.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return a[d]}}),Object.defineProperty(u,h,y)}):(function(u,a,d,h){h===void 0&&(h=d),u[h]=a[d]})),o=Oe&&Oe.__exportStar||function(u,a){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(a,d)&&c(a,u,d)};Object.defineProperty(e,"__esModule",{value:!0});var f=ir();o(Br(),e),o(ir(),e),e.default=f.createClientApp})(Oe)),Oe}var ur;function pn(){return ur||(ur=1,(function(e){var c=Pe&&Pe.__createBinding||(Object.create?(function(u,a,d,h){h===void 0&&(h=d);var y=Object.getOwnPropertyDescriptor(a,d);(!y||("get"in y?!a.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return a[d]}}),Object.defineProperty(u,h,y)}):(function(u,a,d,h){h===void 0&&(h=d),u[h]=a[d]})),o=Pe&&Pe.__exportStar||function(u,a){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(a,d)&&c(a,u,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=ar();Object.defineProperty(e,"default",{enumerable:!0,get:function(){return f.createApp}}),o(Pt(),e),o(ar(),e)})(Pe)),Pe}var cr;function vn(){return cr||(cr=1,it.exports=pn()),it.exports}var hn=vn();const yn=Hr(hn);var Re={},Ne={},ae={},ht={},D={},ke={},k={},X={},Fe={},sr;function Fr(){if(sr)return Fe;sr=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.generateUuid=void 0;function e(f){return Array.from(f).map(function(u){return"00".concat(u.toString(16)).slice(-2)}).join("")}function c(f){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var u=new Uint8Array(f),a=window.crypto.getRandomValues(u);if(a)return a}return Array.from(new Array(f),function(){return Math.random()*255|0})}function o(){var f=64,u=c(1),a=c(2);return u[0]&=191,a[0]&=15|f,[e(c(4)),"-",e(c(2)),"-",e(a),"-",e(u),e(c(1)),"-",e(c(6))].join("")}return Fe.generateUuid=o,Fe.default=o,Fe}var fr;function Ur(){if(fr)return X;fr=1;var e=X&&X.__extends||(function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,v){i.__proto__=v}||function(i,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(i[g]=v[g])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})(),c=X&&X.__assign||function(){return c=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&(n[v]=r[v])}return n},c.apply(this,arguments)},o=X&&X.__spreadArray||function(n,r,t){if(t||arguments.length===2)for(var i=0,v=r.length,g;i<v;i++)(g||!(i in r))&&(g||(g=Array.prototype.slice.call(r,0,i)),g[i]=r[i]);return n.concat(g||Array.prototype.slice.call(r))},f=X&&X.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(X,"__esModule",{value:!0}),X.unsubscribeActions=X.ActionSetWithChildren=X.ActionSet=void 0;var u=ze(),a=At(),d=Je(),h=ve(),y=f(Fr()),_=he(),p=(function(){function n(r,t,i,v){var g=this;this.app=r,this.type=t,this.group=i,this.subgroups=[],this.subscriptions=[],r||(0,d.throwError)(d.Action.INVALID_ACTION,"Missing required `app`"),this.id=v||(0,y.default)(),this.defaultGroup=i;var A=this.set;this.set=function(){for(var m,b=[],O=0;O<arguments.length;O++)b[O]=arguments[O];return g.app.hooks?(m=g.app.hooks).run.apply(m,o([u.LifecycleHook.UpdateAction,A,g],b,!1)):A.apply(g,b)}}return n.prototype.set=function(){},Object.defineProperty(n.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),n.prototype.updateSubscription=function(r,t,i){var v=r.eventType,g=r.callback,A=r.component,m;return m=this.subscriptions.findIndex(function(b){return b===r}),m>=0?this.subscriptions[m].unsubscribe():m=void 0,this.group=t,this.subgroups=i,Object.assign(A,{subgroups:this.subgroups}),this.subscribe(v,g,A,m)},n.prototype.error=function(r){var t=this,i=[];return(0,_.forEachInEnum)(d.Action,function(v){i.push(t.subscriptions.length),t.subscribe(v,r)}),function(){var v=i.map(function(g){return t.subscriptions[g]});v.forEach(function(g){(0,a.removeFromCollection)(t.subscriptions,g,function(A){A.unsubscribe()})})}},n.prototype.subscribe=function(r,t,i,v){var g=this,A=i||this.component,m=r.toUpperCase(),b=typeof v=="number"?t:t.bind(this),O;(0,d.isErrorEventName)(r)?O=(0,_.getEventNameSpace)(h.Group.Error,r,c(c({},A),{type:""})):O=(0,_.getEventNameSpace)(this.group,r,A);var I=this.app.subscribe(O,b,i?i.id:this.id),w={eventType:m,unsubscribe:I,callback:b,component:A,updateSubscribe:function(P,T){return g.updateSubscription(w,P,T)}};return typeof v=="number"&&v>=0&&v<this.subscriptions.length?this.subscriptions[v]=w:this.subscriptions.push(w),I},n.prototype.unsubscribe=function(r){return r===void 0&&(r=!1),s(this.subscriptions,this.defaultGroup,r),this},n})();X.ActionSet=p;var l=(function(n){e(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.children=[],t}return r.prototype.unsubscribe=function(t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),s(this.subscriptions,this.defaultGroup,i),this.children.forEach(function(v){v instanceof r?v.unsubscribe(t,!t):v.unsubscribe(!t)}),this},r.prototype.getChild=function(t){var i=this.children.findIndex(function(v){return v.id===t});return i>=0?this.children[i]:void 0},r.prototype.getChildIndex=function(t){return this.children.findIndex(function(i){return i.id===t})},r.prototype.getChildSubscriptions=function(t,i){return this.subscriptions.filter(function(v){return v.component.id===t&&(!i||i===v.eventType)})},r.prototype.addChild=function(t,i,v){var g=this,A=t.subscriptions,m=this.getChild(t.id);return m||this.children.push(t),!A||i===t.group&&v===t.subgroups?this:(A.forEach(function(b){var O=b.updateSubscribe;O(i,v)}),Object.assign(t,{group:i,subgroups:v}),t instanceof r&&t.children.forEach(function(b){return g.addChild(b,i,v)}),this)},r.prototype.removeChild=function(t){var i=this;return(0,a.removeFromCollection)(this.children,this.getChild(t),function(){var v=i.subscriptions.filter(function(g){return g.component.id===t});v.forEach(function(g){(0,a.removeFromCollection)(i.subscriptions,g,function(A){A.unsubscribe()})})}),this},r.prototype.subscribeToChild=function(t,i,v){var g=this,A=v.bind(this);if(i instanceof Array)return i.forEach(function(I){return g.subscribeToChild(t,I,v)}),this;if(typeof i!="string")return this;var m=i.toUpperCase(),b=this.getChildSubscriptions(t.id,m);if(b.length>0)b.forEach(function(I){return I.updateSubscribe(g.group,t.subgroups)});else{var O={id:t.id,subgroups:t.subgroups,type:t.type};this.subscribe(m,A,O)}return this},r.prototype.getUpdatedChildActions=function(t,i){if(t.length===0){for(;i.length>0;){var v=i.pop();if(!v)break;this.removeChild(v.id)}return}for(var g=t.filter(function(b,O,I){return O===I.indexOf(b)}),A=g.map(function(b){return b.id}),m=i.filter(function(b){return A.indexOf(b.id)<0});m.length>0;){var v=m.pop();if(!v)break;this.removeChild(v.id)}return g},r})(p);X.ActionSetWithChildren=l;function s(n,r,t){t===void 0&&(t=!1),n.forEach(function(i){if(t){var v=i.updateSubscribe;v(r,[])}else{var g=i.unsubscribe;g()}}),t||(n.length=0)}return X.unsubscribeActions=s,X}var dr;function qr(){if(dr)return k;dr=1;var e=k&&k.__extends||(function(){var l=function(s,n){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])},l(s,n)};return function(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");l(s,n);function r(){this.constructor=s}s.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),c=k&&k.__assign||function(){return c=Object.assign||function(l){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(l[t]=s[t])}return l},c.apply(this,arguments)};Object.defineProperty(k,"__esModule",{value:!0}),k.Button=k.update=k.clickButton=k.Style=k.Icon=k.Action=void 0;var o=he(),f=Ur(),u=ve(),a;(function(l){l.CLICK="CLICK",l.UPDATE="UPDATE"})(a||(k.Action=a={}));var d;(function(l){l.Print="print"})(d||(k.Icon=d={}));var h;(function(l){l.Danger="danger"})(h||(k.Style=h={}));function y(l,s,n){var r=s.id,t=(0,o.getEventNameSpace)(l,a.CLICK,s),i={id:r,payload:n};return(0,o.actionWrapper)({type:t,group:l,payload:i})}k.clickButton=y;function _(l,s,n){var r=s.id,t=n.label,i=(0,o.getEventNameSpace)(l,a.UPDATE,s),v=c(c({},n),{id:r,label:t});return(0,o.actionWrapper)({type:i,group:l,payload:v})}k.update=_;var p=(function(l){e(s,l);function s(n,r){var t=l.call(this,n,u.ComponentType.Button,u.Group.Button)||this;return t.disabled=!1,t.loading=!1,t.plain=!1,t.set(r,!1),t}return Object.defineProperty(s.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){return c(c({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),s.prototype.set=function(n,r){r===void 0&&(r=!0);var t=(0,o.getMergedProps)(this.options,n),i=t.label,v=t.disabled,g=t.icon,A=t.style,m=t.loading,b=t.plain;return this.label=i,this.disabled=!!v,this.icon=g,this.style=A,this.loading=!!m,this.plain=!!b,r&&this.dispatch(a.UPDATE),this},s.prototype.dispatch=function(n,r){switch(n){case a.CLICK:this.app.dispatch(y(this.group,this.component,r));break;case a.UPDATE:{var t=_(this.group,this.component,this.payload);this.app.dispatch(t);break}}return this},s})(f.ActionSet);return k.Button=p,k}var lr;function gn(){if(lr)return ke;lr=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.getSingleButton=void 0;var e=qr();function c(o,f,u,a){return o.addChild(f,o.group,u),o.subscribeToChild(f,e.Action.UPDATE,a),f.payload}return ke.getSingleButton=c,ke}var pr;function vr(){if(pr)return D;pr=1;var e=D&&D.__extends||(function(){var b=function(O,I){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,P){w.__proto__=P}||function(w,P){for(var T in P)Object.prototype.hasOwnProperty.call(P,T)&&(w[T]=P[T])},b(O,I)};return function(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");b(O,I);function w(){this.constructor=O}O.prototype=I===null?Object.create(I):(w.prototype=I.prototype,new w)}})(),c=D&&D.__assign||function(){return c=Object.assign||function(b){for(var O,I=1,w=arguments.length;I<w;I++){O=arguments[I];for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(b[P]=O[P])}return b},c.apply(this,arguments)};Object.defineProperty(D,"__esModule",{value:!0}),D.ModalIframe=D.ModalMessage=D.Modal=D.isMessageModal=D.isIframeModal=D.data=D.update=D.clickFooterButton=D.updateModalSize=D.closeModal=D.openModal=D.Size=D.Action=void 0;var o=gn(),f=he(),u=Ur(),a=ve(),d=qr(),h;(function(b){b.OPEN="APP::MODAL::OPEN",b.CLOSE="APP::MODAL::CLOSE",b.UPDATE="APP::MODAL::UPDATE",b.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",b.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",b.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",b.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",b.DATA="APP::MODAL::DATA"})(h||(D.Action=h={}));var y;(function(b){b.Small="small",b.Medium="medium",b.Large="large",b.Full="full",b.Auto="auto"})(y||(D.Size=y={}));var _={group:a.Group.Modal,subgroups:["Footer"],type:a.ComponentType.Button};function p(b){return(0,f.actionWrapper)({group:a.Group.Modal,payload:b,type:h.OPEN})}D.openModal=p;function l(b){return(0,f.actionWrapper)({group:a.Group.Modal,payload:b,type:h.CLOSE})}D.closeModal=l;function s(b){return(0,f.actionWrapper)({group:a.Group.Modal,payload:b,type:h.UPDATE_SIZE})}D.updateModalSize=s;function n(b,O){var I=c({id:b},_);return(0,d.clickButton)(a.Group.Modal,I,O)}D.clickFooterButton=n;function r(b){return(0,f.actionWrapper)({payload:b,group:a.Group.Modal,type:h.UPDATE})}D.update=r;function t(b){return(0,f.actionWrapper)({payload:b,group:a.Group.Modal,type:h.DATA})}D.data=t;function i(b){return typeof b.url=="string"||typeof b.path=="string"}D.isIframeModal=i;function v(b){return typeof b.message=="string"}D.isMessageModal=v;var g=(function(b){e(O,b);function O(){var I=b!==null&&b.apply(this,arguments)||this;return I.size=y.Small,I}return Object.defineProperty(O.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),O.prototype.close=function(){this.app.dispatch(l({id:this.id}))},O.prototype.setFooterPrimaryButton=function(I,w){var P=this,T=_.subgroups;this.footerPrimaryOptions=this.getChildButton(I,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?(0,o.getSingleButton)(this,this.footerPrimaryOptions,T,function(N){P.updatePrimaryFooterButton(N,w)}):void 0},O.prototype.setFooterSecondaryButtons=function(I,w){var P=this,T=_.subgroups,N=I||[],R=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(N,R),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(B){return(0,o.getSingleButton)(P,B,T,function(q){P.updateSecondaryFooterButton(q,w)})}):void 0},O.prototype.getChildButton=function(I,w){var P=I?[I]:[],T=w?[w]:[],N=this.getUpdatedChildActions(P,T);return N?N[0]:void 0},O.prototype.updatePrimaryFooterButton=function(I,w){!this.footer||!this.footer.buttons.primary||(0,f.updateActionFromPayload)(this.footer.buttons.primary,I)&&w()},O.prototype.updateSecondaryFooterButton=function(I,w){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var P,T=0,N=this.footer.buttons.secondary;T<N.length;T++){var R=N[T];if(P=(0,f.updateActionFromPayload)(R,I),P)break}P&&w()}},O})(u.ActionSetWithChildren);D.Modal=g;var A=(function(b){e(O,b);function O(I,w){var P=b.call(this,I,a.Group.Modal,a.Group.Modal)||this;return P.set(w,!1),P}return Object.defineProperty(O.prototype,"payload",{get:function(){return c(c({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),O.prototype.set=function(I,w){var P=this;w===void 0&&(w=!0);var T=(0,f.getMergedProps)(this.options,I),N=T.title,R=T.footer,B=T.message,q=T.size;return this.title=N,this.message=B,this.size=q,this.setFooterPrimaryButton(R?R.buttons.primary:void 0,function(){P.dispatch(h.UPDATE)}),this.setFooterSecondaryButtons(R?R.buttons.secondary:void 0,function(){P.dispatch(h.UPDATE)}),w&&this.dispatch(h.UPDATE),this},O.prototype.dispatch=function(I){switch(I){case h.OPEN:this.app.dispatch(p(this.payload));break;case h.CLOSE:this.close();break;case h.UPDATE:this.app.dispatch(r(this.payload));break}return this},O})(g);D.ModalMessage=A;var m=(function(b){e(O,b);function O(I,w){var P=b.call(this,I,a.Group.Modal,a.Group.Modal)||this;return P.set(w,!1),P}return Object.defineProperty(O.prototype,"payload",{get:function(){return c(c({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),O.prototype.set=function(I,w){var P=this;w===void 0&&(w=!0);var T=(0,f.getMergedProps)(this.options,I),N=T.title,R=T.footer,B=T.path,q=T.url,z=T.size,ce=T.loading;return this.title=N,this.url=q,this.path=B,this.size=z,this.loading=ce,this.setFooterPrimaryButton(R?R.buttons.primary:void 0,function(){P.dispatch(h.UPDATE)}),this.setFooterSecondaryButtons(R?R.buttons.secondary:void 0,function(){P.dispatch(h.UPDATE)}),w&&this.dispatch(h.UPDATE),this},O.prototype.dispatch=function(I,w){switch(I){case h.OPEN:this.app.dispatch(p(this.payload));break;case h.CLOSE:this.close();break;case h.UPDATE:this.app.dispatch(r(this.payload));break;case h.DATA:this.app.dispatch(t(w||{}));break}return this},O})(g);return D.ModalIframe=m,D}var hr;function bn(){return hr||(hr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Modal=e.isMessageModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=e.isIframeModal=e.ModalMessage=e.ModalIframe=void 0;var c=vr();Object.defineProperty(e,"ModalIframe",{enumerable:!0,get:function(){return c.ModalIframe}}),Object.defineProperty(e,"ModalMessage",{enumerable:!0,get:function(){return c.ModalMessage}}),Object.defineProperty(e,"isIframeModal",{enumerable:!0,get:function(){return c.isIframeModal}});var o=vr();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return o.Action}}),Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return o.Size}}),Object.defineProperty(e,"openModal",{enumerable:!0,get:function(){return o.openModal}}),Object.defineProperty(e,"closeModal",{enumerable:!0,get:function(){return o.closeModal}}),Object.defineProperty(e,"updateModalSize",{enumerable:!0,get:function(){return o.updateModalSize}}),Object.defineProperty(e,"clickFooterButton",{enumerable:!0,get:function(){return o.clickFooterButton}}),Object.defineProperty(e,"update",{enumerable:!0,get:function(){return o.update}}),Object.defineProperty(e,"data",{enumerable:!0,get:function(){return o.data}}),Object.defineProperty(e,"isMessageModal",{enumerable:!0,get:function(){return o.isMessageModal}}),Object.defineProperty(e,"Modal",{enumerable:!0,get:function(){return o.Modal}});var f=function(u,a){return(0,c.isIframeModal)(a)?new c.ModalIframe(u,a):new c.ModalMessage(u,a)};e.create=f})(ht)),ht}var te={},yr;function Wr(){if(yr)return te;yr=1,Object.defineProperty(te,"__esModule",{value:!0}),te.isShopifyPing=te.isShopifyPOS=te.isShopifyMobile=te.isShopifyEmbedded=te.isMobile=void 0;var e=$e();function c(){return f()||u()||a()}te.isMobile=c;function o(){return e.isClient&&window.top!==window.self||e.isUnframed}te.isShopifyEmbedded=o;function f(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}te.isShopifyMobile=f;function u(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}te.isShopifyPOS=u;function a(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}return te.isShopifyPing=a,te}var gr;function _n(){if(gr)return ae;gr=1;var e=ae&&ae.__awaiter||function(l,s,n,r){function t(i){return i instanceof n?i:new n(function(v){v(i)})}return new(n||(n=Promise))(function(i,v){function g(b){try{m(r.next(b))}catch(O){v(O)}}function A(b){try{m(r.throw(b))}catch(O){v(O)}}function m(b){b.done?i(b.value):t(b.value).then(g,A)}m((r=r.apply(l,s||[])).next())})},c=ae&&ae.__generator||function(l,s){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,t,i,v;return v={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(m){return function(b){return A([m,b])}}function A(m){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,t&&(i=m[0]&2?t.return:m[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,m[1])).done)return i;switch(t=0,i&&(m=[m[0]&2,i.value]),m[0]){case 0:case 1:i=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,t=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!i||m[1]>i[0]&&m[1]<i[3])){n.label=m[1];break}if(m[0]===6&&n.label<i[1]){n.label=i[1],i=m;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(m);break}i[2]&&n.ops.pop(),n.trys.pop();continue}m=s.call(l,n)}catch(b){m=[6,b],t=0}finally{r=i=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(ae,"__esModule",{value:!0}),ae.createMutationObserver=ae.setupModalAutoSizing=void 0;var o=bn(),f=Pt(),u=Wr(),a="app-bridge-utils-modal-auto-size",d=h();function h(){if(typeof document>"u")return null;var l=document.createElement("style");return l.type="text/css",l.innerHTML="."+a+" { overflow: hidden; height: auto; min-height: auto; }",l}function y(l,s){if(!d)return function(){};var n=document.getElementsByTagName("head")[0],r=document.body.classList;n.appendChild(d),r.add(a);var t=p(l,s);return function(){r.remove(a),n.contains(d)&&n.removeChild(d),t&&t.disconnect()}}function _(l){return e(this,void 0,void 0,function(){function s(){r&&(r(),r=void 0)}function n(t){var i=t.context,v=t.modal.id;return u.isMobile()||i!==f.Context.Modal?(s(),s):(r||(r=y(l,v)),s)}var r;return c(this,function(t){switch(t.label){case 0:return[4,l.getState().then(n)];case 1:return t.sent(),[2,s]}})})}ae.setupModalAutoSizing=_;function p(l,s){if(typeof document>"u")return;var n=-1,r,t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new MutationObserver(v);i.observe(document,t),g();function v(){r&&window.clearTimeout(r),r=window.setTimeout(g,16)}function g(){var A=document.body.scrollHeight;A!==n&&(n=A,l.dispatch(o.updateModalSize({id:s,height:String(A)})))}return i}return ae.createMutationObserver=p,ae}var je={},J={},yt={},le={},br;function mn(){if(br)return le;br=1,Object.defineProperty(le,"__esModule",{value:!0}),le.respond=le.request=le.Action=void 0;var e=he(),c=ve(),o;(function(a){a.REQUEST="APP::SESSION_TOKEN::REQUEST",a.RESPOND="APP::SESSION_TOKEN::RESPOND"})(o||(le.Action=o={}));function f(){return(0,e.actionWrapper)({group:c.Group.SessionToken,type:o.REQUEST})}le.request=f;function u(a){return(0,e.actionWrapper)({payload:a,group:c.Group.SessionToken,type:o.RESPOND})}return le.respond=u,le}var _r;function An(){return _r||(_r=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var c=mn();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}}),Object.defineProperty(e,"request",{enumerable:!0,get:function(){return c.request}}),Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return c.respond}})})(yt)),yt}var mr;function Vr(){if(mr)return J;mr=1;var e=J&&J.__createBinding||(Object.create?(function(y,_,p,l){l===void 0&&(l=p),Object.defineProperty(y,l,{enumerable:!0,get:function(){return _[p]}})}):(function(y,_,p,l){l===void 0&&(l=p),y[l]=_[p]})),c=J&&J.__setModuleDefault||(Object.create?(function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}):function(y,_){y.default=_}),o=J&&J.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var p in y)p!=="default"&&Object.prototype.hasOwnProperty.call(y,p)&&e(_,y,p);return c(_,y),_},f=J&&J.__awaiter||function(y,_,p,l){function s(n){return n instanceof p?n:new p(function(r){r(n)})}return new(p||(p=Promise))(function(n,r){function t(g){try{v(l.next(g))}catch(A){r(A)}}function i(g){try{v(l.throw(g))}catch(A){r(A)}}function v(g){g.done?n(g.value):s(g.value).then(t,i)}v((l=l.apply(y,_||[])).next())})},u=J&&J.__generator||function(y,_){var p={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},l,s,n,r;return r={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function t(v){return function(g){return i([v,g])}}function i(v){if(l)throw new TypeError("Generator is already executing.");for(;p;)try{if(l=1,s&&(n=v[0]&2?s.return:v[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,v[1])).done)return n;switch(s=0,n&&(v=[v[0]&2,n.value]),v[0]){case 0:case 1:n=v;break;case 4:return p.label++,{value:v[1],done:!1};case 5:p.label++,s=v[1],v=[0];continue;case 7:v=p.ops.pop(),p.trys.pop();continue;default:if(n=p.trys,!(n=n.length>0&&n[n.length-1])&&(v[0]===6||v[0]===2)){p=0;continue}if(v[0]===3&&(!n||v[1]>n[0]&&v[1]<n[3])){p.label=v[1];break}if(v[0]===6&&p.label<n[1]){p.label=n[1],n=v;break}if(n&&p.label<n[2]){p.label=n[2],p.ops.push(v);break}n[2]&&p.ops.pop(),p.trys.pop();continue}v=_.call(y,p)}catch(g){v=[6,g],s=0}finally{l=n=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(J,"__esModule",{value:!0}),J.getSessionToken=void 0;var a=o(An()),d=xe();function h(y){return f(this,void 0,void 0,function(){return u(this,function(_){return[2,new Promise(function(p,l){var s=y.subscribe(a.Action.RESPOND,function(n){var r=n.sessionToken;r?p(r):l(d.fromAction("Failed to retrieve a session token",d.Action.FAILED_AUTHENTICATION)),s()});y.dispatch(a.request())})]})})}return J.getSessionToken=h,J}var ue={},Ar;function Pn(){if(Ar)return ue;Ar=1;var e=ue&&ue.__assign||function(){return e=Object.assign||function(a){for(var d,h=1,y=arguments.length;h<y;h++){d=arguments[h];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(a[_]=d[_])}return a},e.apply(this,arguments)},c=ue&&ue.__awaiter||function(a,d,h,y){function _(p){return p instanceof h?p:new h(function(l){l(p)})}return new(h||(h=Promise))(function(p,l){function s(t){try{r(y.next(t))}catch(i){l(i)}}function n(t){try{r(y.throw(t))}catch(i){l(i)}}function r(t){t.done?p(t.value):_(t.value).then(s,n)}r((y=y.apply(a,d||[])).next())})},o=ue&&ue.__generator||function(a,d){var h={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},y,_,p,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(r){return function(t){return n([r,t])}}function n(r){if(y)throw new TypeError("Generator is already executing.");for(;h;)try{if(y=1,_&&(p=r[0]&2?_.return:r[0]?_.throw||((p=_.return)&&p.call(_),0):_.next)&&!(p=p.call(_,r[1])).done)return p;switch(_=0,p&&(r=[r[0]&2,p.value]),r[0]){case 0:case 1:p=r;break;case 4:return h.label++,{value:r[1],done:!1};case 5:h.label++,_=r[1],r=[0];continue;case 7:r=h.ops.pop(),h.trys.pop();continue;default:if(p=h.trys,!(p=p.length>0&&p[p.length-1])&&(r[0]===6||r[0]===2)){h=0;continue}if(r[0]===3&&(!p||r[1]>p[0]&&r[1]<p[3])){h.label=r[1];break}if(r[0]===6&&h.label<p[1]){h.label=p[1],p=r;break}if(p&&h.label<p[2]){h.label=p[2],h.ops.push(r);break}p[2]&&h.ops.pop(),h.trys.pop();continue}r=d.call(a,h)}catch(t){r=[6,t],_=0}finally{y=p=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.authenticatedFetch=void 0;var f=Vr();function u(a,d){var h=this;return d===void 0&&(d=fetch),function(y,_){return _===void 0&&(_={}),c(h,void 0,void 0,function(){var p,l,s;return o(this,function(n){switch(n.label){case 0:return[4,f.getSessionToken(a)];case 1:return p=n.sent(),l=new Headers(_.headers),l.append("Authorization","Bearer "+p),l.append("X-Requested-With","XMLHttpRequest"),s={},l.forEach(function(r,t){s[t]=r}),[2,d(y,e(e({},_),{headers:s}))]}})})}}return ue.authenticatedFetch=u,ue}var Pr;function On(){return Pr||(Pr=1,(function(e){var c=je&&je.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a),Object.defineProperty(f,d,{enumerable:!0,get:function(){return u[a]}})}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=je&&je.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o(Vr(),e),o(Pn(),e)})(je)),je}var De={},Y={},gt={},Le={},Or;function Er(){if(Or)return Le;Or=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.respond=Le.Action=void 0;var e=he(),c=ve(),o;(function(u){u.REQUEST="APP::AUTH_CODE::REQUEST",u.RESPOND="APP::AUTH_CODE::RESPOND"})(o||(Le.Action=o={}));function f(u){return(0,e.actionWrapper)({payload:u,group:c.Group.AuthCode,type:o.RESPOND})}return Le.respond=f,Le}var Sr;function En(){return Sr||(Sr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.request=e.Action=e.respond=void 0;var c=Er();Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return c.Action}});var o=He(),f=Qe(),u=Er();Object.defineProperty(e,"respond",{enumerable:!0,get:function(){return u.respond}});function a(d){return(0,o.actionWrapper)({group:f.Group.AuthCode,type:c.Action.REQUEST,payload:{id:d}})}e.request=a})(gt)),gt}var bt={},Tr;function Sn(){return Tr||(Tr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;var c=Fr();Object.defineProperty(e,"generateUuid",{enumerable:!0,get:function(){return c.generateUuid}}),e.default=c.generateUuid})(bt)),bt}var Ir;function kr(){if(Ir)return Y;Ir=1;var e=Y&&Y.__createBinding||(Object.create?(function(p,l,s,n){n===void 0&&(n=s),Object.defineProperty(p,n,{enumerable:!0,get:function(){return l[s]}})}):(function(p,l,s,n){n===void 0&&(n=s),p[n]=l[s]})),c=Y&&Y.__setModuleDefault||(Object.create?(function(p,l){Object.defineProperty(p,"default",{enumerable:!0,value:l})}):function(p,l){p.default=l}),o=Y&&Y.__importStar||function(p){if(p&&p.__esModule)return p;var l={};if(p!=null)for(var s in p)s!=="default"&&Object.prototype.hasOwnProperty.call(p,s)&&e(l,p,s);return c(l,p),l},f=Y&&Y.__awaiter||function(p,l,s,n){function r(t){return t instanceof s?t:new s(function(i){i(t)})}return new(s||(s=Promise))(function(t,i){function v(m){try{A(n.next(m))}catch(b){i(b)}}function g(m){try{A(n.throw(m))}catch(b){i(b)}}function A(m){m.done?t(m.value):r(m.value).then(v,g)}A((n=n.apply(p,l||[])).next())})},u=Y&&Y.__generator||function(p,l){var s={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},n,r,t,i;return i={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function v(A){return function(m){return g([A,m])}}function g(A){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(t=A[0]&2?r.return:A[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,A[1])).done)return t;switch(r=0,t&&(A=[A[0]&2,t.value]),A[0]){case 0:case 1:t=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,r=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(t=s.trys,!(t=t.length>0&&t[t.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!t||A[1]>t[0]&&A[1]<t[3])){s.label=A[1];break}if(A[0]===6&&s.label<t[1]){s.label=t[1],t=A;break}if(t&&s.label<t[2]){s.label=t[2],s.ops.push(A);break}t[2]&&s.ops.pop(),s.trys.pop();continue}A=l.call(p,s)}catch(m){A=[6,m],r=0}finally{n=t=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},a=Y&&Y.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.getAuthorizationCodePayload=void 0;var d=o(En()),h=xe(),y=a(Sn());function _(p){return f(this,void 0,void 0,function(){return u(this,function(l){return[2,new Promise(function(s,n){var r=y.default(),t=p.subscribe(d.Action.RESPOND,function(i){switch(i?.status){case"needsExchange":s(i);break;default:n(h.fromAction("Failed to retrieve an authorization code",h.Action.FAILED_AUTHENTICATION))}t()},r);p.dispatch(d.request(r))})]})})}return Y.getAuthorizationCodePayload=_,Y}var pe={},Mr;function Tn(){if(Mr)return pe;Mr=1;var e=pe&&pe.__awaiter||function(d,h,y,_){function p(l){return l instanceof y?l:new y(function(s){s(l)})}return new(y||(y=Promise))(function(l,s){function n(i){try{t(_.next(i))}catch(v){s(v)}}function r(i){try{t(_.throw(i))}catch(v){s(v)}}function t(i){i.done?l(i.value):p(i.value).then(n,r)}t((_=_.apply(d,h||[])).next())})},c=pe&&pe.__generator||function(d,h){var y={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},_,p,l,s;return s={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function n(t){return function(i){return r([t,i])}}function r(t){if(_)throw new TypeError("Generator is already executing.");for(;y;)try{if(_=1,p&&(l=t[0]&2?p.return:t[0]?p.throw||((l=p.return)&&l.call(p),0):p.next)&&!(l=l.call(p,t[1])).done)return l;switch(p=0,l&&(t=[t[0]&2,l.value]),t[0]){case 0:case 1:l=t;break;case 4:return y.label++,{value:t[1],done:!1};case 5:y.label++,p=t[1],t=[0];continue;case 7:t=y.ops.pop(),y.trys.pop();continue;default:if(l=y.trys,!(l=l.length>0&&l[l.length-1])&&(t[0]===6||t[0]===2)){y=0;continue}if(t[0]===3&&(!l||t[1]>l[0]&&t[1]<l[3])){y.label=t[1];break}if(t[0]===6&&y.label<l[1]){y.label=l[1],l=t;break}if(l&&y.label<l[2]){y.label=l[2],y.ops.push(t);break}l[2]&&y.ops.pop(),y.trys.pop();continue}t=h.call(d,y)}catch(i){t=[6,i],p=0}finally{_=l=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.userAuthorizedFetch=void 0;var o=kr(),f="auth/shopify/callback";function u(d){var h=d.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return h?h.toLowerCase()==="true":!1}function a(d){var h=this,y=d.app,_=d.callbackUri,p=_===void 0?f:_,l=d.isAuthorizationCodeRequired,s=l===void 0?u:l,n=d.fetchOperation;return function(r,t){return e(h,void 0,void 0,function(){var i,v,g,A,m,b,O,I;return c(this,function(w){switch(w.label){case 0:return[4,n(r,t)];case 1:return i=w.sent(),s(i)?[4,o.getAuthorizationCodePayload(y)]:[2,i];case 2:return v=w.sent(),g=v.code,A=v.hmac,m=v.shop,b=v.timestamp,O=encodeURI("https://"+window.location.hostname+"/"+p+"?code="+g+"&hmac="+A+"&shop="+m+"&timestamp="+b),[4,n(O,{})];case 3:if(I=w.sent(),!I.ok)throw new Error("Failed to authorize request.");return[2,n(r,t)]}})})}}return pe.userAuthorizedFetch=a,pe}var Cr;function In(){return Cr||(Cr=1,(function(e){var c=De&&De.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a),Object.defineProperty(f,d,{enumerable:!0,get:function(){return u[a]}})}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=De&&De.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o(kr(),e),o(Tn(),e)})(De)),De}var wr;function Mn(){return wr||(wr=1,(function(e){var c=Ne&&Ne.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a),Object.defineProperty(f,d,{enumerable:!0,get:function(){return u[a]}})}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=Ne&&Ne.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o(_n(),e),o(Wr(),e),o(On(),e),o(In(),e)})(Ne)),Ne}var Rr;function Cn(){return Rr||(Rr=1,(function(e){var c=Re&&Re.__createBinding||(Object.create?(function(f,u,a,d){d===void 0&&(d=a),Object.defineProperty(f,d,{enumerable:!0,get:function(){return u[a]}})}):(function(f,u,a,d){d===void 0&&(d=a),f[d]=u[a]})),o=Re&&Re.__exportStar||function(f,u){for(var a in f)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&c(u,f,a)};Object.defineProperty(e,"__esModule",{value:!0}),o(Mn(),e)})(Re)),Re}var Nr=Cn();const Gr=new URLSearchParams(window.location.search),_t=Gr.get("shop"),jr=Gr.get("host");if(window.top===window.self)window.location.href=`/auth?shop=${_t}&host=${jr}`;else{const e=yn({apiKey:"f1ad1b493f65f36ffbc728cb00e594fe",host:jr,forceRedirect:!0}),c=Nr.authenticatedFetch(e);async function o(){await Nr.getSessionToken(e);const a=await(await c("/api/get-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop:_t})})).json();document.getElementById("enable_ombud").checked=!!a.erbjuda_ombud,document.getElementById("enable_express").checked=!!a.erbjuda_hemleverans_express,document.getElementById("enable_evening").checked=!!a.erbjuda_hemleverans_kvall,document.getElementById("price_ombud").value=a.pris_ombud??"",document.getElementById("count_ombud").value=a.number_box??"",document.getElementById("cutoff_ombud").value=a.cutoff_time_ombud??"",document.getElementById("price_express").value=a.pris_hem2h??"",document.getElementById("price_evening").value=a.pris_hemkvall??"",document.getElementById("cutoff_evening").value=a.cutoff_time_evening??""}async function f(){const u={shop:_t,erbjuda_ombud:document.getElementById("enable_ombud").checked,erbjuda_hemleverans_express:document.getElementById("enable_express").checked,erbjuda_hemleverans_kvall:document.getElementById("enable_evening").checked,pris_ombud:Number(document.getElementById("price_ombud").value),number_box:Number(document.getElementById("count_ombud").value),cutoff_time_ombud:document.getElementById("cutoff_ombud").value,pris_hem2h:Number(document.getElementById("price_express").value),pris_hemkvall:Number(document.getElementById("price_evening").value),cutoff_time_evening:document.getElementById("cutoff_evening").value};await c("/api/update-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})}document.getElementById("saveBtn").onclick=f,o()}
